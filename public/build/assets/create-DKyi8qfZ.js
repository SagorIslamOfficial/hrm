import{c as L,r as j,u as U,j as e,H as q,a as w,t as y}from"./app-2l7bTgdz.js";import{B as d}from"./app-logo-icon-D8WQrhe2.js";import{C as D,a as R,b as V,c as A}from"./card-CV1eIoC3.js";import{I as n}from"./input-9MQQfIyZ.js";import{L as l}from"./label-u5Rd6Bv4.js";import{S as c,a as o,b as m,c as p,d as r}from"./select-DSlD8Iwm.js";import{A as B,a as _,c as H,s as T}from"./app-layout-he0FWHva.js";import{U as M}from"./upload-BkhLyh3I.js";/* empty css            */import"./index-Y7SdsANi.js";import"./index-CMC2JxbF.js";import"./index-B2KOU7UE.js";import"./chevron-down-CCCgjNCo.js";import"./index-4Ns3tNZl.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],G=L("UserPlus",z),J=[{title:"Employees",href:_().url},{title:"Create Employee",href:H().url}];function ne({departments:v,designations:f,employmentTypes:x,auth:g}){const u=j.useRef(null),N=new Date().toISOString().split("T")[0],C=x.length>0?x[0].code:"",{data:s,setData:i,post:b,processing:h,errors:a,reset:E,clearErrors:F}=U({employee_code:"",first_name:"",last_name:"",email:"",phone:"",photo:null,department_id:"",designation_id:"",employment_status:"active",employment_type:C,joining_date:N}),S=j.useMemo(()=>s.employee_code.trim()!==""&&s.first_name.trim()!==""&&s.last_name.trim()!==""&&s.email.trim()!==""&&s.department_id!==""&&s.designation_id!==""&&s.employment_status!==""&&s.employment_type!==""&&s.joining_date!=="",[s.employee_code,s.first_name,s.last_name,s.email,s.department_id,s.designation_id,s.employment_status,s.employment_type,s.joining_date]),P=t=>{t.preventDefault(),b(T().url,{onSuccess:()=>{y.success("Employee created successfully! Redirecting to complete profile...")},onError:()=>{y.error("Failed to create employee. Please try again.")}})},k=()=>{E(),F()};return e.jsxs(B,{breadcrumbs:J,children:[e.jsx(q,{title:"Create Employee"}),e.jsxs("div",{className:"mx-auto flex h-full w-7xl flex-1 flex-col gap-8 overflow-x-auto rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Create Employee"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Add a new employee with basic information. You'll be able to complete their full profile after creation."})]})}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(d,{variant:"outline",asChild:!0,children:e.jsx(w,{href:_().url,children:"Cancel"})})})]}),e.jsxs(D,{children:[e.jsx(R,{children:e.jsxs(V,{className:"flex items-center gap-2",children:[e.jsx(G,{className:"size-5"}),"Employee Information"]})}),e.jsx(A,{children:e.jsxs("form",{onSubmit:P,className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"employee_code",children:"Employee Code *"}),e.jsx(n,{id:"employee_code",value:s.employee_code,onChange:t=>i("employee_code",t.target.value),placeholder:"Enter employee code",required:!0}),a.employee_code&&e.jsx("p",{className:"text-sm text-destructive",children:a.employee_code})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"created_by",children:"Created By *"}),e.jsx(n,{id:"created_by",value:g?.user?.name||"Current User",disabled:!0,className:"bg-muted"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"first_name",children:"First Name *"}),e.jsx(n,{id:"first_name",value:s.first_name,onChange:t=>i("first_name",t.target.value),placeholder:"Enter first name",required:!0}),a.first_name&&e.jsx("p",{className:"text-sm text-destructive",children:a.first_name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"last_name",children:"Last Name *"}),e.jsx(n,{id:"last_name",value:s.last_name,onChange:t=>i("last_name",t.target.value),placeholder:"Enter last name",required:!0}),a.last_name&&e.jsx("p",{className:"text-sm text-destructive",children:a.last_name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"email",children:"Email *"}),e.jsx(n,{id:"email",type:"email",value:s.email,onChange:t=>i("email",t.target.value),placeholder:"Enter email address",required:!0}),a.email&&e.jsx("p",{className:"text-sm text-destructive",children:a.email})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"phone",children:"Phone"}),e.jsx(n,{id:"phone",type:"tel",value:s.phone,onChange:t=>i("phone",t.target.value),placeholder:"Enter phone number"}),a.phone&&e.jsx("p",{className:"text-sm text-destructive",children:a.phone})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"photo",children:"Photo"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(n,{ref:u,id:"photo",type:"file",accept:"image/*",onChange:t=>{const I=t.target.files?.[0]||null;i("photo",I)},className:"hidden"}),e.jsxs(d,{type:"button",variant:"outline",onClick:()=>u.current?.click(),className:"flex items-center gap-2",children:[e.jsx(M,{className:"size-4"}),s.photo?"Change Photo":"Upload Photo"]}),s.photo&&e.jsx("span",{className:"text-sm text-muted-foreground",children:s.photo.name})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Upload a profile photo (max 2MB, JPEG/PNG/WebP)"}),a.photo&&e.jsx("p",{className:"text-sm text-destructive",children:a.photo})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"department_id",children:"Department *"}),e.jsxs(c,{value:s.department_id,onValueChange:t=>i("department_id",t),children:[e.jsx(o,{children:e.jsx(m,{placeholder:"Select department"})}),e.jsx(p,{children:v.map(t=>e.jsx(r,{value:t.id,children:t.name},t.id))})]}),a.department_id&&e.jsx("p",{className:"text-sm text-destructive",children:a.department_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"designation_id",children:"Designation *"}),e.jsxs(c,{value:s.designation_id,onValueChange:t=>i("designation_id",t),children:[e.jsx(o,{children:e.jsx(m,{placeholder:"Select designation"})}),e.jsx(p,{children:f.map(t=>e.jsx(r,{value:t.id,children:t.title},t.id))})]}),a.designation_id&&e.jsx("p",{className:"text-sm text-destructive",children:a.designation_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"employment_status",children:"Employment Status *"}),e.jsxs(c,{value:s.employment_status,onValueChange:t=>i("employment_status",t),children:[e.jsx(o,{children:e.jsx(m,{placeholder:"Select status"})}),e.jsxs(p,{children:[e.jsx(r,{value:"active",children:"Active"}),e.jsx(r,{value:"inactive",children:"Inactive"}),e.jsx(r,{value:"terminated",children:"Terminated"}),e.jsx(r,{value:"on_leave",children:"On Leave"})]})]}),a.employment_status&&e.jsx("p",{className:"text-sm text-destructive",children:a.employment_status})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"employment_type",children:"Employment Type *"}),e.jsxs(c,{value:s.employment_type,onValueChange:t=>i("employment_type",t),children:[e.jsx(o,{children:e.jsx(m,{placeholder:"Select type"})}),e.jsx(p,{children:x.map(t=>e.jsx(r,{value:t.code,children:t.name},t.code))})]}),a.employment_type&&e.jsx("p",{className:"text-sm text-destructive",children:a.employment_type})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"joining_date",children:"Joining Date *"}),e.jsx(n,{id:"joining_date",type:"date",value:s.joining_date,onChange:t=>i("joining_date",t.target.value),required:!0}),a.joining_date&&e.jsx("p",{className:"text-sm text-destructive",children:a.joining_date})]})]}),e.jsxs("div",{className:"flex justify-end gap-4",children:[e.jsx(d,{type:"button",variant:"outline",onClick:k,disabled:h,children:"Reset"}),e.jsx(d,{type:"submit",disabled:h||!S,children:h?"Creating...":"Create Employee"})]})]})})]})]})]})}export{ne as default};
