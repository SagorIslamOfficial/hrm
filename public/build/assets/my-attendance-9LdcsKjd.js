import{c as j,u as o,j as e,H as _,a as w}from"./app-rUhqRxjb.js";import{B as c}from"./badge-nEU-2Dl1.js";import{B as t}from"./app-logo-icon-Bhdv87vF.js";import{C as m,a as x,b as h,c as u}from"./card-DkBAsEDQ.js";import{A as b,i as p,C as L,L as T}from"./app-layout-DT4Xblzp.js";import{C as I}from"./calendar-BJWcTPqW.js";/* empty css            */import"./index-JAreR6JF.js";import"./index-CLnxC0Re.js";import"./index-4Ns3tNZl.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],H=j("LogIn",z);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],D=j("TrendingUp",M),O=[{title:"Attendance",href:p().url},{title:"My Attendance",href:"/attendance/my"}];function q({attendances:r,todayAttendance:i,canCheckIn:f,canCheckOut:N,stats:n}){const{post:k,processing:l}=o(),{put:g,processing:d}=o(),a=s=>new Date(s).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),y=s=>new Date(s).toLocaleDateString(),v=()=>{k("/attendance/check-in")},C=()=>{i&&g(`/attendance/check-out/${i.id}`)};return e.jsxs(b,{breadcrumbs:O,children:[e.jsx(_,{title:"My Attendance"}),e.jsxs("div",{className:"mx-auto flex h-full w-7xl flex-1 flex-col gap-8 overflow-x-auto rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"My Attendance"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Track your daily attendance and work hours"})]})}),e.jsx(t,{asChild:!0,children:e.jsx(w,{href:p().url,children:"All Records"})})]}),e.jsxs(m,{children:[e.jsx(x,{children:e.jsxs(h,{className:"flex items-center gap-2",children:[e.jsx(L,{className:"size-5"}),"Today's Status"]})}),e.jsx(u,{children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-4",children:[i?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Check-in:"}),e.jsx(c,{variant:"default",children:a(i.check_in)})]}),i.check_out&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Check-out:"}),e.jsx(c,{variant:"secondary",children:a(i.check_out)})]}),i.work_hours&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Work Hours:"}),e.jsxs(c,{variant:"outline",children:[i.work_hours,"h"]})]})]}):e.jsx("p",{className:"text-sm text-muted-foreground",children:"No attendance record for today"}),e.jsxs("div",{className:"flex gap-2",children:[f&&e.jsxs(t,{onClick:v,disabled:l,className:"flex items-center gap-2",children:[e.jsx(H,{className:"size-4"}),l?"Checking In...":"Check In"]}),N&&e.jsxs(t,{onClick:C,disabled:d,variant:"outline",className:"flex items-center gap-2",children:[e.jsx(T,{className:"size-4"}),d?"Checking Out...":"Check Out"]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"flex items-center gap-2 font-semibold",children:[e.jsx(D,{className:"size-4"}),"This Month"]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Total Hours:"}),e.jsxs("span",{className:"font-medium",children:[n.this_month_hours,"h"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Attendance Rate:"}),e.jsxs("span",{className:"font-medium",children:[n.attendance_rate,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Average Daily:"}),e.jsxs("span",{className:"font-medium",children:[n.average_daily_hours,"h"]})]})]})]})]})})]}),e.jsxs(m,{children:[e.jsx(x,{children:e.jsxs(h,{className:"flex items-center gap-2",children:[e.jsx(I,{className:"size-5"}),"Attendance History"]})}),e.jsx(u,{children:e.jsx("div",{className:"space-y-4",children:r.data.length===0?e.jsx("p",{className:"py-8 text-center text-muted-foreground",children:"No attendance records found"}):r.data.map(s=>e.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-medium",children:y(s.check_in)}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("span",{children:["Check-in:"," ",a(s.check_in)]}),s.check_out&&e.jsxs("span",{children:["Check-out:"," ",a(s.check_out)]})]})]}),e.jsxs("div",{className:"space-y-1 text-right",children:[s.work_hours&&e.jsxs(c,{variant:"outline",children:[s.work_hours,"h worked"]}),e.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:s.status})]})]},s.id))})})]})]})]})}export{q as default};
