import{u as o,j as e,H as h,a as c}from"./app-rUhqRxjb.js";/* empty css            */function g({report:s,filters:l,departments:x}){const{data:d,setData:n,get:i,processing:r}=o({start_date:l.start_date,end_date:l.end_date,department_id:l.department_id||""}),m=t=>{t.preventDefault(),i("/attendance/report",{preserveState:!0})};return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Attendance Reports"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:e.jsx("div",{className:"overflow-hidden bg-white shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6 text-gray-900",children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Attendance Reports"}),e.jsxs("div",{className:"space-x-2",children:[e.jsx(c,{href:"/attendance",className:"rounded bg-gray-500 px-4 py-2 font-bold text-white hover:bg-gray-700",children:"All Records"}),e.jsx(c,{href:"/attendance/my",className:"rounded bg-green-500 px-4 py-2 font-bold text-white hover:bg-green-700",children:"My Attendance"})]})]}),e.jsxs("div",{className:"mb-6 rounded-lg bg-gray-50 p-4",children:[e.jsx("h2",{className:"mb-4 text-lg font-semibold",children:"Report Filters"}),e.jsxs("form",{onSubmit:m,className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"start_date",className:"block text-sm font-medium text-gray-700",children:"Start Date"}),e.jsx("input",{type:"date",id:"start_date",value:d.start_date,onChange:t=>n("start_date",t.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"end_date",className:"block text-sm font-medium text-gray-700",children:"End Date"}),e.jsx("input",{type:"date",id:"end_date",value:d.end_date,onChange:t=>n("end_date",t.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"department_id",className:"block text-sm font-medium text-gray-700",children:"Department"}),e.jsxs("select",{id:"department_id",value:d.department_id,onChange:t=>n("department_id",t.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"All Departments"}),x.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{type:"submit",disabled:r,className:"w-full rounded bg-blue-500 px-4 py-2 font-bold text-white hover:bg-blue-700 disabled:opacity-50",children:r?"Generating...":"Generate Report"})})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full table-auto",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("th",{className:"px-4 py-2 text-left",children:"Employee"}),e.jsx("th",{className:"px-4 py-2 text-center",children:"Total Days"}),e.jsx("th",{className:"px-4 py-2 text-center",children:"Present"}),e.jsx("th",{className:"px-4 py-2 text-center",children:"Absent"}),e.jsx("th",{className:"px-4 py-2 text-center",children:"Late"}),e.jsx("th",{className:"px-4 py-2 text-center",children:"Total Hours"}),e.jsx("th",{className:"px-4 py-2 text-center",children:"Avg Hours/Day"}),e.jsx("th",{className:"px-4 py-2 text-center",children:"Attendance Rate"})]})}),e.jsx("tbody",{children:s.map((t,a)=>e.jsxs("tr",{className:"border-t",children:[e.jsxs("td",{className:"px-4 py-2 font-medium",children:[t.employee_name,e.jsx("br",{}),e.jsxs("span",{className:"text-sm text-gray-500",children:["(",t.employee_id,")"]})]}),e.jsx("td",{className:"px-4 py-2 text-center",children:t.total_days}),e.jsx("td",{className:"px-4 py-2 text-center",children:e.jsx("span",{className:"font-medium text-green-600",children:t.present_days})}),e.jsx("td",{className:"px-4 py-2 text-center",children:e.jsx("span",{className:"font-medium text-red-600",children:t.absent_days})}),e.jsx("td",{className:"px-4 py-2 text-center",children:e.jsx("span",{className:"font-medium text-yellow-600",children:t.late_days})}),e.jsxs("td",{className:"px-4 py-2 text-center",children:[t.total_hours.toFixed(1),"h"]}),e.jsxs("td",{className:"px-4 py-2 text-center",children:[t.average_hours.toFixed(1),"h"]}),e.jsx("td",{className:"px-4 py-2 text-center",children:e.jsxs("span",{className:`rounded px-2 py-1 text-xs font-medium ${t.attendance_rate>=90?"bg-green-100 text-green-800":t.attendance_rate>=75?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[t.attendance_rate.toFixed(1),"%"]})})]},a))})]})}),s.length===0&&e.jsx("div",{className:"py-8 text-center",children:e.jsx("p",{className:"text-gray-500",children:"No attendance data found for the selected period."})}),s.length>0&&e.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 md:grid-cols-4",children:[e.jsxs("div",{className:"rounded-lg bg-blue-50 p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:(s.reduce((t,a)=>t+a.total_days,0)/s.length).toFixed(1)}),e.jsx("div",{className:"text-sm text-blue-800",children:"Avg Total Days"})]}),e.jsxs("div",{className:"rounded-lg bg-green-50 p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:(s.reduce((t,a)=>t+a.present_days,0)/s.length).toFixed(1)}),e.jsx("div",{className:"text-sm text-green-800",children:"Avg Present Days"})]}),e.jsxs("div",{className:"rounded-lg bg-yellow-50 p-4 text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-yellow-600",children:[(s.reduce((t,a)=>t+a.total_hours,0)/s.length).toFixed(1),"h"]}),e.jsx("div",{className:"text-sm text-yellow-800",children:"Avg Total Hours"})]}),e.jsxs("div",{className:"rounded-lg bg-purple-50 p-4 text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[(s.reduce((t,a)=>t+a.attendance_rate,0)/s.length).toFixed(1),"%"]}),e.jsx("div",{className:"text-sm text-purple-800",children:"Avg Attendance Rate"})]})]})]})})})})]})}export{g as default};
